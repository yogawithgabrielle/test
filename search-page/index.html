<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Story&rsquo;s JavaScript Search</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://yogawithgabrielle.github.io/index.xml">
		<link rel="canonical" href="https://yogawithgabrielle.github.io/search-page/">
		
		<link rel="shortcut icon" type="image/png" href="https://yogawithgabrielle.github.io/apple-touch-icon-precomposed.png">
		<meta name="description" content="With Story, your site will have built-in search with no external dependencies.">
		
		<meta name="generator" content="Hugo 0.58.3" />

		
		<meta property="og:title" content="Story&rsquo;s JavaScript Search" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://yogawithgabrielle.github.io/img/unsplash-photos-4zxSWESyZio.jpg" />
		<meta property="og:description" content="With Story, your site will have built-in search with no external dependencies." />
		<meta property="og:url" content="https://yogawithgabrielle.github.io/search-page/" />
		<meta property="og:site_name" content="Story&rsquo;s JavaScript Search" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<link rel="stylesheet" href="https://yogawithgabrielle.github.io/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://yogawithgabrielle.github.io/css/story.css" />
		<link rel="stylesheet" href="https://yogawithgabrielle.github.io/css/descartes.css" />
		
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://yogawithgabrielle.github.io/js/story.js"></script>

	</head>
	<body class="ma0 bg-white  page-kind-page is-page-true ">
		
		<header class="cover bg-top" style="background-image: url('https://yogawithgabrielle.github.io/img/unsplash-photos-4zxSWESyZio.jpg'); background-position: center;">
			<div class="bg-black-30 bb bt">

				<nav class="hide-print sans-serif  border-box pa3 ph5-l">
					<a href="https://yogawithgabrielle.github.io/" title="Home">
						<img src="https://yogawithgabrielle.github.io/img/logo.jpg" class="w2 h2 br-100" alt="Yoga With Gabrielle" />
					</a>
					<div class="fr h2 pv2 tr">
						<a class="link f5 ml2 dim near-white" href="/archives/">Archives</a>
						<a class="link f5 ml2 dim near-white" href="/slides/">Slides</a>
						<a class="link f5 ml2 dim near-white" href="/talks/">Talks</a>
						<a class="link f5 ml2 dim near-white" href="https://www.instagram.com/yogawithgabrielle/"><i class="fab fa-instagram"></i></a>
						<a class="link f5 ml2 dim near-white fas fa-rss-square" href="https://yogawithgabrielle.github.io/index.xml" title="RSS Feed"></a>
						<a class="link f5 ml2 dim near-white fas fa-search" href="https://yogawithgabrielle.github.io/search/" role="search" title="Search"></a>
					</div>
				</nav>

				<div id="hdr" class="tc-l pv4-ns pv5-l pv2 ph3 ph4-ns">
					<h1 class="near-white mt1-ns f2 fw3 mb0 mt0 lh-title">Story&rsquo;s JavaScript Search</h1>
					<h2 class="near-white mt3-l mb4-l fw1 f6 f3-l measure-wide-l center lh-copy mt2 mb3">
						
						
							
								Published
								<time datetime="2018-08-21T00:00:00Z">Aug 21, 2018</time>
								<span class="display-print">by Gabrielle Davies</span>
								 in <a href="https://yogawithgabrielle.github.io/categories/demo" class="no-underline category near-white dim">Demo</a>
								<span class="display-print">at https://yogawithgabrielle.github.io/search-page/</span>
							
						
					</h2>
				</div>

				
				
				
				<div class="w-100 cf hide-print">
					<a class="fr f6 ma0 pa2 link white-50 dim fas fa-camera" href="https://unsplash.com/photos/4zxSWESyZio" title="Photo Credit"></a>
				</div>
				
				

			</div>
		</header>
		
		<main role="main">
		
<article class="center bg-white br-3 pv1 ph4 lh-copy f5 nested-links mw7">
	<p>This article documents Story&rsquo;s built-in search features, which don&rsquo;t rely on external search engines.
Story uses the <a href="https://lunrjs.com/">LunrJS</a> library to provide fast browser-based search.
This page first explains how search setup works, and then provides copy-paste
ready code samples for you to use.</p>

<p>To get Story&rsquo;s search to work, you need to take a couple of steps:</p>

<ol>
<li>Create a piece of content with the URL you want. Story assumes you want
<code>/search/</code> and adds an icon for that in the top menu automatically. So you
can simply create <code>content/search/_index.md</code> and that should work.</li>
<li>Give this content the <code>search</code> layout, and a title.</li>
</ol>

<p>There doesn&rsquo;t need to be any Markdown content; the <code>search</code> layout ignores it.</p>

<p>This will create the search page, but you also need to tell Hugo that it should
build the JSON index of the content in the site, which LunrJS uses. To do this,
configure the <code>home</code> output type to include JSON, which isn&rsquo;t included by
default. This will override the default output settings, so you&rsquo;ll need to
explicitly specify the defaults in addition. Here&rsquo;s a YAML config file section
for your <code>config.yaml</code> file to enable this:</p>

<pre><code>outputs:
   home:
      - HTML
      - JSON
      - RSS
   page:
      - HTML
   section:
      - HTML
      - RSS
   taxonomy:
      - HTML
      - RSS
   taxonomyTerm:
      - HTML
      - RSS
</code></pre>

<p>If you use TOML, use this:</p>

<pre><code>[outputs]
  home = [&quot;HTML&quot;, &quot;JSON&quot;, &quot;RSS&quot;]
  page = [&quot;HTML&quot;]
  section = [&quot;HTML&quot;, &quot;RSS&quot;]
  taxonomy = [&quot;HTML&quot;, &quot;RSS&quot;]
  taxonomyTerm = [&quot;HTML&quot;, &quot;RSS&quot;]
</code></pre>

<p>There&rsquo;s more you can do. If you want to create a full-featured search page easily, just paste the following code into <code>content/search/_index.md</code></p>

<pre><code>---
layout: search
url: /search/
title: Search
classes:
- feature-nosubtitle
- feature-nohdr
---
</code></pre>

<p>This illustrates an additional layout feature in Story:
displaying it without a header image.</p>

<p>Read next: <a href="/math/">Story&rsquo;s mathematical equation typesetting features</a>.</p>
</article>

		</main>
		
				<div class="hide-print sans-serif f6 f5-l mt5 ph3 pb6 center nested-copy-line-height lh-copy nested-links mw-100 measure-wide">
		<div class="about-the-author">
		
			
			
				
					<p><a href="https://www.instagram.com/yogawithgabrielle/"><img src="/img/gab_icon.png" alt="Gabrielle Davies" /></a></p>

<p>A little bit about Gabby here :)</p>

				
			
		
		</div>
		
	</div>

		
		
		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://yogawithgabrielle.github.io/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2020 Gabrielle Davies
			</p>
		</footer>
		
	
	
	</body>
</html>
